<head>
    <meta charset="utf-8">
    <title>Annhilati PGP Key</title>

    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body class="body">
    <div class="terminal-text-body pgp-wrapper">
        <pre id="pgp-key">Loading Key ...</pre>
    </div>

    <script>
        const filePath = 'Annhilati_0x4358632C_public.asc';

        async function loadPGPKey() {
            try {
                const response = await fetch(filePath);
                if (!response.ok) {
                    throw new Error('file with PGP key could not be loaded');
                }

                const keyText = await response.text();

                const keyElement = document.getElementById('pgp-key');
                keyElement.textContent = keyText;

                function copyToClipboard(text) {
                    navigator.clipboard.writeText(text)
                        .then(() => console.log('Copied key to the clipboard.'))
                        .catch(error => console.error('Failed copying the key to the clipboard:', error));
                }

                window.onload = function () {
                    copyToClipboard(keyText);
                }

            } catch (error) {
                document.getElementById('pgp-key').textContent =
                    'Failed loading the PGP key.';
                console.error(error);
            }
        }

        window.addEventListener('DOMContentLoaded', loadPGPKey);
    </script>
</body>
